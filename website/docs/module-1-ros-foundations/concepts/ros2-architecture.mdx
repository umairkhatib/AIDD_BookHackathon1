---
sidebar_position: 1
title: "ROS 2 Architecture Concepts"
---

# ROS 2 Architecture Concepts

## Overview

ROS 2 (Robot Operating System 2) is a flexible framework for writing robot software. It's a collection of tools, libraries, and conventions that aim to simplify the task of creating complex and robust robot behavior across a wide variety of robot platforms.

Unlike traditional frameworks, ROS 2 is not a runtime environment but a middleware that provides services designed for a heterogeneous computer cluster. This means that executables can be run separately from each other and can be written in different programming languages.

## Core Concepts

### Nodes

A **node** is an executable that uses ROS 2 to communicate with other nodes. Nodes are the fundamental building blocks of a ROS 2 system. They are responsible for specific tasks like sensor data processing, control algorithms, or user interfaces.

```python
import rclpy
from rclpy.node import Node

class MyNode(Node):
    def __init__(self):
        super().__init__('my_node_name')
        # Node initialization code here
```

### Topics and Messages

**Topics** are named buses over which nodes exchange messages. A node can publish messages to a topic or subscribe to a topic to receive messages. This enables asynchronous communication between nodes.

**Messages** are the data structures that are sent via topics. They have a specific format defined in `.msg` files.

### Services

**Services** provide a synchronous request/response communication pattern. A node can offer a service or call a service provided by another node. Services use `.srv` files to define the request and response data structures.

### Actions

**Actions** are a more complex communication pattern that includes goals, feedback, and results. They're designed for long-running tasks that require status updates.

## Communication Patterns

### Publisher/Subscriber (Topics)

The publisher/subscriber pattern enables many-to-many communication:

- Multiple nodes can publish to the same topic
- Multiple nodes can subscribe to the same topic
- Communication is asynchronous
- Publishers don't know who subscribes to their topics

### Client/Server (Services)

The client/server pattern enables synchronous communication:

- One server provides a service
- Multiple clients can request the service
- Communication is synchronous
- Request/response pattern

## Quality of Service (QoS)

ROS 2 provides Quality of Service settings that allow you to tune communication behavior:

- **Reliability**: Best effort vs. reliable delivery
- **Durability**: Volatile vs. transient local (for late-joining subscribers)
- **History**: Keep all messages vs. keep last N messages
- **Depth**: Size of the message queue

## Execution Model

ROS 2 uses a distributed execution model:

- Nodes can run on different machines
- Communication happens over DDS (Data Distribution Service)
- Each node is an independent process
- Nodes are managed by the ROS 2 runtime

## Parameter System

ROS 2 provides a hierarchical parameter system:

- Parameters can be set at runtime
- Parameters can be loaded from files
- Parameters can be shared between nodes
- Parameter types are strongly enforced

## Advantages of ROS 2

1. **Real-time support**: Better support for real-time applications
2. **Multi-robot systems**: Improved support for multi-robot deployments
3. **Security**: Built-in security features
4. **Middleware flexibility**: Support for different DDS implementations
5. **Lifecycle management**: Better node lifecycle management
6. **Quality of Service**: Configurable communication behavior

## ROS 1 vs ROS 2

While ROS 1 and ROS 2 share many concepts, ROS 2 introduces important differences:

- **Middleware**: ROS 2 uses DDS instead of its own custom middleware
- **Real-time**: ROS 2 has better real-time capabilities
- **Multi-machine**: ROS 2 is designed for multi-machine deployments from the start
- **Security**: ROS 2 includes security features
- **Lifecycle**: ROS 2 has improved lifecycle management

## Summary

Understanding these core concepts is essential for developing effective robotic applications with ROS 2. The node-based architecture with multiple communication patterns provides flexibility for building complex robotic systems.